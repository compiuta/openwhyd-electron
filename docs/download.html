<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Download Openwhyd Desktop App</title>
    <link rel="stylesheet" href="download.css">
    <base target="_parent"> <!-- to open links properly from openwhyd.org/download's iframe -->
</head>

<body class="os-other">
<div class="download--intro">
    <div class="download--header">
        <a href="https://openwhyd.org/" class="header--logo"><img src="https://openwhyd.org/images/logo-white.png" alt="Openwhyd"></a>
        <a href="https://openwhyd.org/" class="button__hollow">Go back to Openwhyd</a>
    </div>

<div class="download--hero">
    <h1>Openwhyd Desktop App</h1>
    <ul class="hero--text">
        <li>Collect and share the best music in the world</li>
        <li>Play tracks in the background</li>
    </ul>
    <div class="hero--download for-other">
        <a href="https://github.com/openwhyd/openwhyd-electron/releases/latest" class="button">Download Openwhyd Electron</a>
    </div>
    <div class="hero--download for-ios">
        <a href="https://openwhyd.org/iphone" class="button">Download for iOS</a>
    </div>
    <div class="hero--download for-windows">
        <a href="https://github.com/openwhyd/openwhyd-electron/releases/download/v1.0.1/Openwhyd-win32-ia32.zip" class="button">Download v1.0.1 for Windows</a>
    </div>
    <div class="hero--download for-osx">
        <a href="https://github.com/openwhyd/openwhyd-electron/releases/download/v1.0.1/Openwhyd-darwin-x64.zip" class="button">Download v1.0.1 for Mac</a>
    </div>
    <div class="hero--download for-linux">
        <a href="https://github.com/openwhyd/openwhyd-electron/releases/download/v1.0.1/Openwhyd-linux-ia32.zip" class="button">Download v1.0.1 for Linux</a>
    </div>
</div>
</div>

<div class="download--downloads">
<p><a href="https://github.com/openwhyd/openwhyd-electron/releases/latest">Download other versions or source code</a></p>
</div>

<div class="download--faq">
    <h2>Frequently Asked Questions</h2>
    <p>
        <b>How do I install the app?</b>
        <br>
        Just unzip the file and launch the executable.
    </p>

    <p>
        <b>The Mac app doesn't work</b>
        <br>
        Recent macOS versions do not open unsigned app by default.
        You need to <a href="https://support.apple.com/kb/ph18657">authorize the app in your Security settings</a>.
    </p>
</div>

<script>
    var osName, ua = window.navigator.userAgent;
    if (/iPhone|iPad|iPod/i.test(ua)) osName = 'os-ios';
    else if (ua.indexOf('Windows' ) !== -1) osName = 'os-windows';
    else if (ua.indexOf('Mac') !== -1) osName = 'os-osx';
    else if (ua.indexOf('Linux') !== -1) osName = 'os-linux';
    if (osName) {
        document.body.className = osName; // css rules will display the right div

        // from https://github.com/feross/arch/blob/master/browser.js
        var arch = (function arch () {
            /**
             * User agent strings that indicate a 64-bit OS.
             * See: http://stackoverflow.com/a/13709431/292185
             */
            var userAgent = navigator.userAgent
            if ([
                'x86_64',
                'x86-64',
                'Win64',
                'x64;',
                'amd64',
                'AMD64',
                'WOW64',
                'x64_64'
            ].some(function (str) {
                return userAgent.indexOf(str) > -1
            })) {
                return 'x64'
            }
    
            /**
             * Platform strings that indicate a 64-bit OS.
             * See: http://stackoverflow.com/a/19883965/292185
             */
            var platform = navigator.platform
            if (platform === 'MacIntel' || platform === 'Linux x86_64') {
                return 'x64'
            }
    
            /**
             * CPU class strings that indicate a 64-bit OS.
             * See: http://stackoverflow.com/a/6267019/292185
             */
            if (navigator.cpuClass === 'x64') {
                return 'x64'
            }
    
            /**
             * If none of the above, assume the architecture is 32-bit.
             */
            return 'x86'
        })();

        var links = document.querySelectorAll('.hero--download a[href]');

        // generate download links for 64-bit architectures
        if (arch === 'x64') {
            links.forEach(function(link) {
                link.href = link.href.replace('-ia32', '-x64');
            });
        }

        // scroll down after user clicks on a download link
        links.forEach(function(link) {
            link.onclick = function() {
                window.scrollTo(0, document.body.scrollHeight);
            };
        });
    }

</script>

</body>

</html>
